<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewBag.Title - SoteCare</title>
    <link rel="stylesheet" href="~/Content/site.css" />
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>
    <!-- Sidebar Navigation -->
    <div class="sidenav">
        <h4>SoteCare</h4>
        <input type="text" id="sideSearch" placeholder="Search...">

        <!-- Links visible to logged-in users only -->
        @if (Session["Role"] != null)
        {
            <a href="@Url.Action("Index", "Dashboard")">Dashboard</a>
            <h6>Patients</h6>
            <a href="@Url.Action("Index", "Patients")">Patients</a>

            <h6>Medications</h6>
            <a href="@Url.Action("Index", "Medications")">Medications</a>
            <a href="@Url.Action("Index", "MedicationLists")">Medication Lists</a>

            <h6>Staff</h6>
            <a href="@Url.Action("Index", "Doctors")">Doctors</a>
            <a href="@Url.Action("Index", "Nurses")">Nurses</a>

            if (Session["Role"].ToString().Equals("Doctor", StringComparison.OrdinalIgnoreCase))
            {
                <!-- Assign Patient to Nurse link for Doctors only -->
                <li class="nav-item">
                    <a class="nav-link" href="@Url.Action("AssignPatientToNurse", "Doctors")">Assign Patient to Nurse</a>
                </li>
            }

            <!-- Logout Form (POST method) -->
            using (Html.BeginForm("Logout", "Account", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                <a href="javascript:void(0);" onclick="this.closest('form').submit();">Logout</a>
            }
        }
        else
        {
            <!-- Links visible to logged-out users -->
            <a href="@Url.Action("Login", "Account")">Login</a>
            <a href="@Url.Action("RegisterDoctor", "Account")">Register as Doctor</a>
            <a href="@Url.Action("RegisterNurse", "Account")">Register as Nurse</a>
        }
    </div>

    <!-- Main Content -->
    <div class="content">
        @RenderBody()
    </div>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
    @RenderSection("styles", required: false)
</body>
</html>
@*<script>
        function myFunction() {
            // Declare variables
            var input, filter, ul, li, a, i;
            input = document.getElementById("mySearch");
            filter = input.value.toUpperCase();
            ul = document.getElementById("myMenu");
            li = ul.getElementsByTagName("li");

            // Loop through all list items, and hide those who don't match the search query
            for (i = 0; i < li.length; i++) {
                a = li[i].getElementsByTagName("a")[0];
                if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    li[i].style.display = "";
                } else {
                    li[i].style.display = "none";
                }
            }
        }
    </script>*@


@*<body>
        <div class="sidenav">
            <h2>SoteCare</h2>
            @if (User.Identity.IsAuthenticated)
            {
                <hr />
                <p>Welcome, @User.Identity.Name</p>
                <hr />
                @Html.ActionLink("Dashboard", "Index", "Dashboard")
                @Html.ActionLink("Patients", "Index", "Patients")
                @Html.ActionLink("Medications", "Index", "Medications")
                @Html.ActionLink("Logout", "Logout", "Account")
            }
            else
            {
                @Html.ActionLink("Login", "Login", "Account")
                @Html.ActionLink("Register", "Register", "Account")
            }
        </div>

        <div class="content">
            @RenderBody()
        </div>
    </body> for logged in view*@  